(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{15:function(e,n,t){e.exports=t(39)},20:function(e,n,t){},21:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),r=t(14),c=t.n(r),l=(t(20),t(4)),u=t(2),i=function(e){return o.a.createElement("div",null,"Search by Name:",o.a.createElement("input",{value:e.filter,onChange:e.handleFilter}))},m=function(e){return o.a.createElement("form",{onSubmit:e.updatePhonebook},o.a.createElement("div",null,"Name: ",o.a.createElement("input",{value:e.newName,onChange:e.handleNameChange})),o.a.createElement("div",null,"Number: ",o.a.createElement("input",{value:e.newNumber,onChange:e.handleNumberChange})),o.a.createElement("div",null,o.a.createElement("button",{type:"submit"},"Add")))},s=function(e){return o.a.createElement("ul",null,e.persons.map((function(n){return o.a.createElement("li",{key:n.id},n.name,o.a.createElement("br",null),"Tel: ",n.number,o.a.createElement("button",{value:n.id,onClick:e.handleDeleteClick},"Delete"))})))},d=function(e){var n={color:e.color,background:"lightGray",borderStyle:"solid",borderColor:e.color,borderRadius:"5px",margin:"10px",textAlign:"center"};return null===e.notification?null:o.a.createElement("div",{style:n},o.a.createElement("h1",null,e.notification))},f=(t(21),t(3)),h=t.n(f),b=function(){return h.a.get("/api/persons").then((function(e){return e.data}))},g=function(e){return h.a.post("/api/persons",e).then((function(e){return e.data}))},p=function(e){return h.a.delete("".concat("/api/persons","/").concat(e)).then((function(e){return e}))},v=function(e,n){return h.a.put("".concat("/api/persons","/").concat(e),n).then((function(e){return e.data}))},E=function(){var e=Object(a.useState)([]),n=Object(u.a)(e,2),t=n[0],r=n[1],c=Object(a.useState)(""),f=Object(u.a)(c,2),h=f[0],E=f[1],w=Object(a.useState)(""),k=Object(u.a)(w,2),C=k[0],j=k[1],O=Object(a.useState)(""),N=Object(u.a)(O,2),S=N[0],y=N[1],x=Object(a.useState)({message:null,color:null}),P=Object(u.a)(x,2),A=P[0],D=P[1];Object(a.useEffect)((function(){b().then((function(e){r(e)}))}),[A]);var I=function(e,n){D({message:e,color:n}),setTimeout((function(){D({message:null,color:null})}),5e3)},B=function(e){return console.log(e[0].name),window.confirm("Removing ".concat(e[0].name,". Are you sure?"))},F=function(e){var n=t.filter((function(n){return n.name.toString()===e}));return window.confirm("Changing ".concat(n[0].name," number to ").concat(C,". Proceed?"))},J=function(){return alert("".concat(h," already in the Phonebook!"))},L=t.filter((function(e){return e.name.toLowerCase().includes(S.toLowerCase())}));return o.a.createElement("div",null,o.a.createElement("h2",null,"Phonebook"),o.a.createElement(d,{notification:A.message,color:A.color}),o.a.createElement(i,{filter:S,handleFilter:function(e){console.log(e.target.value),y(e.target.value)}}),o.a.createElement("h3",null,"Add Person:"),o.a.createElement(m,{updatePhonebook:function(e){e.preventDefault(),function(){var e={name:h,number:C};if(-1!==t.findIndex((function(e){return e.number===C})))J();else if(-1!==t.findIndex((function(e){return e.name===h}))){if(!0===F(h)){var n=t.find((function(e){return e.name===h})),a=Object(l.a)(Object(l.a)({},n),{},{number:C});v(n.id,a).then((function(e){return r(t.map((function(t){return t.id!==n.id?t:e})))}),I("Updated ".concat(e.name," phonenumber to ").concat(e.number),"blue")).catch((function(n){I("".concat(e.name," already removed from server."),"red")}))}}else g(e).then((function(n){I("Added ".concat(e.name," to phonebook."),"green")})).catch((function(e){I("".concat(e.response.data.error.message),"red")}));E(""),j("")}()},newName:h,handleNameChange:function(e){console.log(e.target.value),E(e.target.value)},newNumber:C,handleNumberChange:function(e){console.log(e.target.value),j(e.target.value)}}),o.a.createElement("h2",null,"Numbers:"),o.a.createElement(s,{persons:L,handleDeleteClick:function(e){var n=t.filter((function(n){return n.id.toString()!==e.target.value})),a=t.filter((function(n){return n.id.toString()===e.target.value}));console.log(a[0].name),!0===B(a)&&p(e.target.value).then((function(e){console.log(e),r(n),I("".concat(a[0].name," deleted."),"red")}))}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[15,1,2]]]);
//# sourceMappingURL=main.3e7532c8.chunk.js.map